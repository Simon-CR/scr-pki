# Environment Configuration
# Copy this file to .env and update with your settings

# =============================================================================
# ðŸš¨ REQUIRED SETTINGS (MUST BE SET)
# =============================================================================

# Database Credentials
# These are used by both the Database container and the Backend service
POSTGRES_USER=pki_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=pki

# Security Keys
# Generate a secure random string for JWT signing (e.g., `openssl rand -hex 32`)
JWT_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING

# Initial Admin User
# This user is created on first run. Change the password immediately after login.
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_THIS_PASSWORD
ADMIN_EMAIL=admin@homelab.local

# =============================================================================
# âš™ï¸ OPTIONAL / DEFAULTS (CAN BE LEFT AS IS)
# =============================================================================

# General
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
AUTH_DISABLED=false

# Web Interface
PKI_DOMAIN=pki.homelab.local
WEB_PORT=8080
API_URL=http://localhost:8000

# Vault Connection
VAULT_ADDR=http://vault:8200
VAULT_DEV_MODE=false

# Certificate Authority Defaults
# These are used when creating the initial Root CA
CA_COMMON_NAME=HomeLab Root CA
CA_ORGANIZATION=HomeLab
CA_ORGANIZATIONAL_UNIT=Certificate Authority
CA_COUNTRY=US
CA_VALIDITY_DAYS=7300

# Certificate Defaults
DEFAULT_CERT_VALIDITY_DAYS=3650
DEFAULT_KEY_SIZE=4096
DEFAULT_SIGNATURE_ALGORITHM=SHA256

# Monitoring & Backups
HEALTH_CHECK_INTERVAL=300
ALERT_CHECK_INTERVAL=3600
BACKUP_RETENTION_DAYS=30

# =============================================================================
# ðŸ–¥ï¸ UI CONFIGURABLE (MANAGED VIA WEB INTERFACE)
# =============================================================================
# The following settings can be defined here as overrides, but are best managed
# through the "System Settings" page in the web interface.

# Vault Token
# Leave empty on first run. You will initialize Vault via the UI and it will
# automatically save the token to the database.
VAULT_TOKEN=

# Notification Settings (SMTP, Slack, Discord)
# Configure these in the UI: Settings > Alerts
# SMTP_HOST=
# SMTP_PORT=
# WEBHOOK_SLACK_URL=
# ...

# =============================================================================
# ADVANCED (DO NOT CHANGE UNLESS NEEDED)
# =============================================================================

# Database Connection
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# Security Headers
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
HSTS_ENABLED=true

# Performance
WORKER_PROCESSES=auto
DB_POOL_SIZE=20

